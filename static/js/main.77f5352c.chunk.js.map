{"version":3,"sources":["trivia.png","actions/index.js","pages/Login.js","components/Question.js","components/Header.js","pages/Game.js","pages/Settings.js","components/Results.js","pages/Feedback.js","pages/Ranking.js","App.js","reducers/index.js","store/index.js","index.js"],"names":["module","exports","getName","name","type","payload","getEmail","email","getScore","score","getAssertion","anwser","Login","state","nome","btnDisabled","onHandle","target","value","setState","activateButton","length","submitForm","e","preventDefault","funcFetch","a","fetch","response","json","data","props","dispatch","history","localStorage","setItem","token","push","console","error","this","className","src","logo","alt","onSubmit","onChange","data-testid","placeholder","disabled","to","Component","connect","Question","category","correctAnswer","answers","question","answerF","answered","map","answer","index","key","onClick","undefined","Header","emailString","md5","toString","player","gravatarEmail","Game","questions","difficulty","timer","next","counter","timeLeft","setInterval","prev","getQuestions","getItem","url","getTrivia","results","response_code","correct_answer","incorrect_answers","concat","sort","Math","random","dataset","testid","setScore","clearInterval","timesUp","nextQuestion","assertions","diff","assertion","Settings","Results","message","Feedback","firstPlay","ranking","JSON","stringify","otherPlay","players","parse","newPlayer","newList","reset","Ranking","sortList","b","App","path","exact","component","INITIAL_STATE","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","window","Cypress","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.77f5352c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/trivia.466d153e.png\";","export const GET_NAME = 'GET_NAME';\r\nexport const GET_EMAIL = 'GET_EMAIL';\r\nexport const GET_SCORE = 'GET_SCORE';\r\nexport const GET_ASSERTION = 'GET_ASSERTION';\r\nexport const GET_RESET = 'GET_RESET';\r\n\r\nexport const getName = (name) => ({\r\n  type: GET_NAME,\r\n  payload: name,\r\n});\r\n\r\nexport const getEmail = (email) => ({\r\n  type: GET_EMAIL,\r\n  payload: email,\r\n});\r\n\r\nexport const getScore = (score) => ({\r\n  type: GET_SCORE,\r\n  payload: score,\r\n});\r\n\r\nexport const getAssertion = (anwser) => ({\r\n  type: GET_ASSERTION,\r\n  payload: anwser,\r\n});\r\n\r\nexport const getReset = (reset) => ({\r\n  type: GET_RESET,\r\n  payload: reset,\r\n});\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getEmail, getName } from '../actions';\r\nimport logo from '../trivia.png';\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    nome: '',\r\n    email: '',\r\n    btnDisabled: true,\r\n  }\r\n\r\n  onHandle = ({ target }) => {\r\n    const { value } = target;\r\n    const { name } = target;\r\n\r\n    this.setState({ [name]: value }, this.activateButton());\r\n  }\r\n\r\n  activateButton = () => {\r\n    const { nome, email } = this.state;\r\n    if (nome.length > 1 && email.length > 1) {\r\n      this.setState({ btnDisabled: false });\r\n    } else {\r\n      this.setState({ btnDisabled: true });\r\n    }\r\n  }\r\n\r\n  submitForm = (e) => {\r\n    e.preventDefault();\r\n    this.funcFetch();\r\n  }\r\n\r\n  funcFetch = async () => {\r\n    const { nome, email } = this.state;\r\n    const urlToken = 'https://opentdb.com/api_token.php?command=request';\r\n    try {\r\n      const response = await fetch(urlToken);\r\n      const data = await response.json();\r\n      const { dispatch, history } = this.props;\r\n      dispatch(getName(nome));\r\n      dispatch(getEmail(email));\r\n      localStorage.setItem('token', data.token);\r\n      history.push('/game');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { nome, email, btnDisabled } = this.state;\r\n    return (\r\n      <div className=\"login\">\r\n        <header className=\"login-header\">\r\n          <img src={ logo } className=\"login-logo\" alt=\"logo\" />\r\n          <p>SUA VEZ</p>\r\n        </header>\r\n        <form onSubmit={ this.submitForm }>\r\n          <input\r\n            name=\"nome\"\r\n            value={ nome }\r\n            onChange={ this.onHandle }\r\n            data-testid=\"input-player-name\"\r\n            type=\"text\"\r\n            placeholder=\"Nome\"\r\n          />\r\n          <br />\r\n          <input\r\n            name=\"email\"\r\n            value={ email }\r\n            onChange={ this.onHandle }\r\n            data-testid=\"input-gravatar-email\"\r\n            type=\"text\"\r\n            placeholder=\"Email\"\r\n          />\r\n          <br />\r\n          <br />\r\n          <button\r\n            type=\"submit\"\r\n            data-testid=\"btn-play\"\r\n            disabled={ btnDisabled }\r\n          >\r\n            Play\r\n          </button>\r\n        </form>\r\n        <br />\r\n        <Link to=\"/settings\" data-testid=\"btn-settings\">Settings</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  dispatch: PropTypes.func.isRequired,\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default connect()(Login);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Question extends Component {\r\n  render() {\r\n    const { category, correctAnswer, answers, question, answerF, answered } = this.props;\r\n    return (\r\n      <main className=\"question\">\r\n        <h1 data-testid=\"question-category\">{category}</h1>\r\n        <h2 data-testid=\"question-text\">{question}</h2>\r\n        <div data-testid=\"answer-options\" className=\"question-options\">\r\n          {answers.map((answer, index) => (\r\n            answer !== correctAnswer ? (\r\n              <button\r\n                key={ answer }\r\n                type=\"button\"\r\n                data-testid={ `wrong-answer-${index}` }\r\n                onClick={ answerF }\r\n                className={ answered ? 'question-wrong' : undefined }\r\n                disabled={ answered }\r\n              >\r\n                {answer}\r\n              </button>\r\n            ) : (\r\n              <button\r\n                key={ answer }\r\n                type=\"button\"\r\n                data-testid=\"correct-answer\"\r\n                onClick={ answerF }\r\n                className={ answered ? 'question-right' : undefined }\r\n                disabled={ answered }\r\n              >\r\n                {answer}\r\n              </button>\r\n            )\r\n          )) }\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nQuestion.propTypes = {\r\n  category: PropTypes.string.isRequired,\r\n  correctAnswer: PropTypes.string.isRequired,\r\n  answers: PropTypes.instanceOf(Array).isRequired,\r\n  question: PropTypes.string.isRequired,\r\n  answerF: PropTypes.func.isRequired,\r\n  answered: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Question;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport md5 from 'crypto-js/md5';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    emailString: '',\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { email } = this.props;\r\n    const emailString = md5(email).toString();\r\n    this.setState({ emailString });\r\n  }\r\n\r\n  render() {\r\n    const { emailString } = this.state;\r\n    const { name, score } = this.props;\r\n    const gravatar = 'https://www.gravatar.com/avatar/';\r\n    return (\r\n      <header className=\"game-header\">\r\n        <img\r\n          src={ `${gravatar}${emailString}` }\r\n          alt=\"imagem jogador\"\r\n          data-testid=\"header-profile-picture\"\r\n        />\r\n        <span data-testid=\"header-player-name\">{name}</span>\r\n        <span>Pontuação: </span>\r\n        <span data-testid=\"header-score\">{score}</span>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ player }) => ({\r\n  name: player.name,\r\n  // assertions: player.assertions,\r\n  score: player.score,\r\n  email: player.gravatarEmail,\r\n});\r\n\r\nHeader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  email: PropTypes.string.isRequired,\r\n  score: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Question from '../components/Question';\r\nimport { getAssertion, getScore } from '../actions';\r\nimport Header from '../components/Header';\r\n\r\nclass Game extends Component {\r\n  state = {\r\n    questions: [],\r\n    category: '',\r\n    correctAnswer: '',\r\n    difficulty: '', // easy, medium or hard\r\n    answers: [],\r\n    question: '',\r\n    index: 0,\r\n    answered: false,\r\n    timer: 30,\r\n    next: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getQuestions();\r\n    this.counter();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { timer } = this.state;\r\n    if (timer === 0) this.timesUp();\r\n  }\r\n\r\n  counter = () => {\r\n    const milliseconds = 1000;\r\n\r\n    this.timeLeft = setInterval(() => {\r\n      this.setState((prev) => ({ timer: prev.timer - 1 }));\r\n    }, milliseconds);\r\n  };\r\n\r\n  getQuestions = async () => {\r\n    const token = localStorage.getItem('token');\r\n    const numQuestions = 5;\r\n    const url = `https://opentdb.com/api.php?amount=${numQuestions}&token=${token}`;\r\n    const response = await fetch(url);\r\n    const questions = await response.json();\r\n    this.getTrivia(questions);\r\n  };\r\n\r\n  getTrivia = ({ results, response_code: response }) => {\r\n    const { history } = this.props;\r\n    const rng = 0.5;\r\n    const ERROR_CODE = 3;\r\n    if (response === ERROR_CODE) {\r\n      localStorage.setItem('token', '');\r\n      history.push('/');\r\n    } else {\r\n      this.setState({\r\n        questions: results,\r\n        category: results[0].category,\r\n        correctAnswer: results[0].correct_answer,\r\n        difficulty: results[0].difficulty,\r\n        answers: results[0].incorrect_answers\r\n          .concat(results[0].correct_answer)\r\n          .sort(() => Math.random() - rng),\r\n        question: results[0].question,\r\n        index: 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  answer = ({ target }) => {\r\n    const correct = target.dataset.testid;\r\n    if (correct === 'correct-answer') this.setScore();\r\n\r\n    clearInterval(this.timeLeft);\r\n    this.setState({\r\n      timer: 30,\r\n      answered: true,\r\n      next: true,\r\n    });\r\n  };\r\n\r\n  timesUp = () => {\r\n    clearInterval(this.timeLeft);\r\n    this.setState({\r\n      timer: 30,\r\n      answered: true,\r\n      next: true,\r\n    });\r\n  };\r\n\r\n  nextQuestion = () => {\r\n    const { questions, index } = this.state;\r\n    const { history } = this.props;\r\n    const maxQuestions = 4;\r\n    const next = index + 1;\r\n    if (index === maxQuestions) history.push('/feedback');\r\n    else {\r\n      this.setState({\r\n        category: questions[next].category,\r\n        correctAnswer: questions[next].correct_answer,\r\n        answers: questions[next].incorrect_answers.concat(questions[next].correct_answer),\r\n        question: questions[next].question,\r\n        index: next,\r\n        answered: false,\r\n        next: false,\r\n      });\r\n      this.counter();\r\n    }\r\n  };\r\n\r\n  setScore = () => {\r\n    const { timer, difficulty } = this.state;\r\n    const { dispatch, score, assertions } = this.props;\r\n    const easy = 1;\r\n    const medium = 2;\r\n    const hard = 3;\r\n    const base = 10;\r\n    let diff = 0;\r\n    switch (difficulty) {\r\n    case 'easy':\r\n      diff = easy;\r\n      break;\r\n    case 'medium':\r\n      diff = medium;\r\n      break;\r\n    case 'hard':\r\n      diff = hard;\r\n      break;\r\n    default:\r\n      diff = 0;\r\n    }\r\n    const total = score + (base + timer * diff);\r\n    const assertion = assertions + 1;\r\n    dispatch(getScore(total));\r\n    dispatch(getAssertion(assertion));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      category,\r\n      correctAnswer,\r\n      answers,\r\n      question,\r\n      answered,\r\n      next,\r\n      index,\r\n      timer } = this.state;\r\n\r\n    const maxQuestions = 4;\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"container\">\r\n          <Question\r\n            category={ category }\r\n            correctAnswer={ correctAnswer }\r\n            answers={ answers }\r\n            question={ question }\r\n            nextQuestion={ this.nextQuestion }\r\n            answerF={ this.answer }\r\n            answered={ answered }\r\n          />\r\n          {\r\n            next && (\r\n              <button\r\n                className=\"next\"\r\n                type=\"button\"\r\n                data-testid=\"btn-next\"\r\n                onClick={ this.nextQuestion }\r\n              >\r\n                {index === maxQuestions ? 'Feedback' : 'Next'}\r\n              </button>\r\n            )\r\n          }\r\n          <p className=\"timer\">Tempo restante:</p>\r\n          <p className=\"timer\">{timer}</p>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ player }) => ({\r\n  name: player.name,\r\n  assertions: player.assertions,\r\n  score: player.score,\r\n  email: player.gravatarEmail,\r\n});\r\n\r\nGame.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  score: PropTypes.number.isRequired,\r\n  assertions: PropTypes.number.isRequired,\r\n  dispatch: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Game);\r\n","import React, { Component } from 'react';\r\n\r\nclass Settings extends Component {\r\n  render() {\r\n    return (\r\n      <h1 data-testid=\"settings-title\">Settings</h1>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Results extends Component {\r\n  message = () => {\r\n    const { assertions } = this.props;\r\n    const good = 3;\r\n    if (assertions < good) return 'Could be better...';\r\n    return 'Well Done!';\r\n  }\r\n\r\n  render() {\r\n    const { assertions, score } = this.props;\r\n    return (\r\n      <div className=\"results\">\r\n        <p data-testid=\"feedback-text\">{this.message()}</p>\r\n        <span>Pontuação: </span>\r\n        <span data-testid=\"feedback-total-score\">{score}</span>\r\n        <br />\r\n        <span>Acertos: </span>\r\n        <span data-testid=\"feedback-total-question\">{assertions}</span>\r\n        <br />\r\n        <Link\r\n          className=\"button-feedback\"\r\n          to=\"/ranking\"\r\n          data-testid=\"btn-ranking\"\r\n        >\r\n          Ranking\r\n        </Link>\r\n        <br />\r\n        <Link\r\n          className=\"button-feedback\"\r\n          to=\"/\"\r\n          data-testid=\"btn-play-again\"\r\n        >\r\n          Play Again\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ player }) => ({\r\n  assertions: player.assertions,\r\n  score: player.score,\r\n});\r\n\r\n// const mapDispatchToProps = {}\r\n\r\nResults.propTypes = {\r\n  assertions: PropTypes.number.isRequired,\r\n  score: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Results);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { getReset } from '../actions';\r\nimport Header from '../components/Header';\r\nimport Results from '../components/Results';\r\n\r\nclass Feedback extends Component {\r\n  componentDidMount() {\r\n    if (!localStorage.getItem('ranking')) this.firstPlay();\r\n    else this.otherPlay();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { dispatch } = this.props;\r\n    dispatch(getReset());\r\n  }\r\n\r\n  firstPlay = () => {\r\n    const { name, score } = this.props;\r\n    const ranking = [{\r\n      name,\r\n      score,\r\n    }];\r\n    localStorage.setItem('ranking', JSON.stringify(ranking));\r\n  }\r\n\r\n  otherPlay = () => {\r\n    const { name, score } = this.props;\r\n    const players = JSON.parse(localStorage.getItem('ranking'));\r\n    const newPlayer = {\r\n      name,\r\n      score,\r\n    };\r\n    const newList = [...players, newPlayer];\r\n    localStorage.setItem('ranking', JSON.stringify(newList));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div data-testid=\"feedback-text\">\r\n        <Header />\r\n        <Results />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ player }) => ({\r\n  name: player.name,\r\n  score: player.score,\r\n  // email: player.gravatarEmail,\r\n});\r\n\r\nFeedback.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  score: PropTypes.number.isRequired,\r\n  dispatch: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(Feedback);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Ranking extends Component {\r\n  state = {\r\n    ranking: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    const list = JSON.parse(localStorage.getItem('ranking'));\r\n    const sortList = list.sort((a, b) => b.score - a.score);\r\n    this.setState({ ranking: sortList });\r\n  }\r\n\r\n  render() {\r\n    const { ranking } = this.state;\r\n    return (\r\n      <div className=\"ranking\">\r\n        <p data-testid=\"ranking-title\">Ranking</p>\r\n        {\r\n          ranking.map((player, index) => (\r\n            <div className=\"player\" key={ index }>\r\n              <span data-testid={ `player-name-${index}` }>{player.name}</span>\r\n              <span data-testid={ `player-score-${index}` }>{player.score}</span>\r\n            </div>\r\n          ))\r\n        }\r\n        <br />\r\n        <Link to=\"/\" data-testid=\"btn-go-home\" className=\"play-again\">Play Again</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Ranking;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport Game from './pages/Game';\r\nimport Settings from './pages/Settings';\r\nimport Feedback from './pages/Feedback';\r\nimport Ranking from './pages/Ranking';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={ Login } />\r\n      <Route path=\"/game\" exact component={ Game } />\r\n      <Route path=\"/settings\" exact component={ Settings } />\r\n      <Route path=\"/feedback\" exact component={ Feedback } />\r\n      <Route path=\"/ranking\" exact component={ Ranking } />\r\n    </Switch>\r\n\r\n  );\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { GET_ASSERTION, GET_EMAIL, GET_NAME, GET_RESET, GET_SCORE } from '../actions';\r\n\r\nconst INITIAL_STATE = {\r\n  name: 'Anonimo',\r\n  assertions: 0,\r\n  score: 0,\r\n  gravatarEmail: 'anonimo@email.com',\r\n};\r\n\r\nconst player = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n  case GET_NAME:\r\n    return { ...state, name: action.payload };\r\n\r\n  case GET_EMAIL:\r\n    return { ...state, gravatarEmail: action.payload };\r\n\r\n  case GET_SCORE:\r\n    return { ...state, score: action.payload };\r\n\r\n  case GET_ASSERTION:\r\n    return { ...state, assertions: action.payload };\r\n\r\n  case GET_RESET:\r\n    return INITIAL_STATE;\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nconst rootReducer = combineReducers({ player });\r\n\r\nexport default rootReducer;\r\n","import { legacy_createStore as createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from '../reducers';\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\nif (window.Cypress) {\r\n  window.store = store;\r\n}\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename=\"/tp-trivia\">\r\n    <Provider store={ store }>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}